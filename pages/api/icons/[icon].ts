import {NextApiRequest, NextApiResponse} from 'next';

const icons = {
	email: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="email"><rect width="24" height="24" opacity="0"/><path fill="__FILL__" d="M19 4H5a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3zm-.67 2L12 10.75 5.67 6zM19 18H5a1 1 0 0 1-1-1V7.25l7.4 5.55a1 1 0 0 0 .6.2 1 1 0 0 0 .6-.2L20 7.25V17a1 1 0 0 1-1 1z"/></g></g></svg>',
	at: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="at"><rect width="24" height="24" opacity="0"/><path fill="__FILL__" d="M13 2a10 10 0 0 0-5 19.1 10.15 10.15 0 0 0 4 .9 10 10 0 0 0 6.08-2.06 1 1 0 0 0 .19-1.4 1 1 0 0 0-1.41-.19A8 8 0 1 1 12.77 4 8.17 8.17 0 0 1 20 12.22v.68a1.71 1.71 0 0 1-1.78 1.7 1.82 1.82 0 0 1-1.62-1.88V8.4a1 1 0 0 0-1-1 1 1 0 0 0-1 .87 5 5 0 0 0-3.44-1.36A5.09 5.09 0 1 0 15.31 15a3.6 3.6 0 0 0 5.55.61A3.67 3.67 0 0 0 22 12.9v-.68A10.2 10.2 0 0 0 13 2zm-1.82 13.09A3.09 3.09 0 1 1 14.27 12a3.1 3.1 0 0 1-3.09 3.09z"/></g></g></svg>',
	hash: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="hash"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path fill="__FILL__" d="M20 14h-4.3l.73-4H20a1 1 0 0 0 0-2h-3.21l.69-3.81A1 1 0 0 0 16.64 3a1 1 0 0 0-1.22.82L14.67 8h-3.88l.69-3.81A1 1 0 0 0 10.64 3a1 1 0 0 0-1.22.82L8.67 8H4a1 1 0 0 0 0 2h4.3l-.73 4H4a1 1 0 0 0 0 2h3.21l-.69 3.81A1 1 0 0 0 7.36 21a1 1 0 0 0 1.22-.82L9.33 16h3.88l-.69 3.81a1 1 0 0 0 .84 1.19 1 1 0 0 0 1.22-.82l.75-4.18H20a1 1 0 0 0 0-2zM9.7 14l.73-4h3.87l-.73 4z"/></g></g></svg>',
	person: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="person"><rect width="24" height="24" opacity="0"/><path fill="__FILL__" d="M12 11a4 4 0 1 0-4-4 4 4 0 0 0 4 4zm0-6a2 2 0 1 1-2 2 2 2 0 0 1 2-2z"/><path fill="__FILL__" d="M12 13a7 7 0 0 0-7 7 1 1 0 0 0 2 0 5 5 0 0 1 10 0 1 1 0 0 0 2 0 7 7 0 0 0-7-7z"/></g></g></svg>',
	search: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="search"><rect width="24" height="24" opacity="0"/><path fill="__FILL__" d="M20.71 19.29l-3.4-3.39A7.92 7.92 0 0 0 19 11a8 8 0 1 0-8 8 7.92 7.92 0 0 0 4.9-1.69l3.39 3.4a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42zM5 11a6 6 0 1 1 6 6 6 6 0 0 1-6-6z"/></g></g></svg>',
	chevronRight: '<svg version="1.1" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g data-name="Layer 2"><g data-name="chevron-right"><rect transform="rotate(-90 12 12)" width="24" height="24" opacity="0"/><path fill="__FILL__" d="m8.5164 21.992a1.9968 1.9968 0 0 1-1.4177-0.57906 1.9968 1.9968 0 0 1 0-2.8354l6.6093-6.5694-6.3498-6.6093a1.9968 1.9968 0 0 1 0-2.8155 1.9968 1.9968 0 0 1 2.8354 0l7.7076 7.9871a1.9968 1.9968 0 0 1 0 2.7955l-7.9871 7.9871a1.9968 1.9968 0 0 1-1.3977 0.63897z" stroke-width="1.9968"/></g></g></svg>',
	questionMark: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="question-mark"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path fill="__FILL__" d="M17 9A5 5 0 0 0 7 9a1 1 0 0 0 2 0 3 3 0 1 1 3 3 1 1 0 0 0-1 1v2a1 1 0 0 0 2 0v-1.1A5 5 0 0 0 17 9z"/><circle fill="__FILL__" cx="12" cy="19" r="1"/></g></g></svg>',
	twitter: '<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.4667 33.3333C15.9312 33.4158 18.3872 33.0034 20.6896 32.1205C22.992 31.2376 25.0941 29.9021 26.8716 28.193C28.649 26.4839 30.0659 24.4358 31.0384 22.1698C32.0108 19.9038 32.5192 17.4658 32.5334 15C33.6628 13.6023 34.5015 11.993 35.0001 10.2667C35.0373 10.1303 35.0343 9.98601 34.9914 9.85128C34.9486 9.71655 34.8677 9.59709 34.7585 9.50727C34.6493 9.41745 34.5164 9.36111 34.376 9.34504C34.2355 9.32896 34.0934 9.35383 33.9667 9.41666C33.3759 9.70108 32.7107 9.79296 32.0648 9.67934C31.419 9.56572 30.8251 9.25233 30.3667 8.78333C29.7817 8.14262 29.0739 7.62588 28.2855 7.2637C27.497 6.90153 26.6439 6.7013 25.7767 6.67488C24.9094 6.64846 24.0457 6.79638 23.2366 7.10989C22.4276 7.42339 21.6897 7.89609 21.0667 8.49999C20.2137 9.32609 19.5889 10.3588 19.2531 11.4978C18.9172 12.6368 18.8817 13.8432 19.1501 15C13.5667 15.3333 9.7334 12.6833 6.66674 9.04999C6.57461 8.94566 6.45409 8.87041 6.31991 8.83344C6.18572 8.79647 6.04367 8.79937 5.91111 8.84179C5.77855 8.88421 5.6612 8.96431 5.57341 9.07232C5.48562 9.18033 5.43118 9.31156 5.41674 9.44999C4.83252 12.6907 5.25395 16.0326 6.62443 19.0268C7.99491 22.021 10.2488 24.5241 13.0834 26.2C11.1828 28.3797 8.51375 29.7411 5.6334 30C5.47909 30.0256 5.33664 30.0988 5.22599 30.2093C5.11534 30.3199 5.04202 30.4623 5.01631 30.6166C4.99059 30.7709 5.01376 30.9294 5.08257 31.0698C5.15139 31.2103 5.2624 31.3257 5.40007 31.4C7.90594 32.6523 10.6655 33.3136 13.4667 33.3333Z" fill="white"/></svg>',
	facebook: '<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M28.3333 5.83342C28.3333 5.61241 28.2455 5.40045 28.0893 5.24417C27.933 5.08789 27.721 5.00009 27.5 5.00009H23.3333C21.2352 4.89557 19.181 5.62574 17.6195 7.03106C16.0581 8.43637 15.1163 10.4026 15 12.5001V17.0001H10.8333C10.6123 17.0001 10.4004 17.0879 10.2441 17.2442C10.0878 17.4005 10 17.6124 10 17.8334V22.1668C10 22.3878 10.0878 22.5997 10.2441 22.756C10.4004 22.9123 10.6123 23.0001 10.8333 23.0001H15V34.1668C15 34.3878 15.0878 34.5997 15.2441 34.756C15.4004 34.9123 15.6123 35.0001 15.8333 35.0001H20.8333C21.0543 35.0001 21.2663 34.9123 21.4226 34.756C21.5789 34.5997 21.6667 34.3878 21.6667 34.1668V23.0001H26.0333C26.2186 23.0028 26.3996 22.9436 26.5475 22.8319C26.6954 22.7202 26.8018 22.5624 26.85 22.3834L28.05 18.0501C28.0832 17.927 28.0876 17.7979 28.063 17.6727C28.0384 17.5476 27.9855 17.4298 27.9082 17.3284C27.8309 17.2269 27.7314 17.1446 27.6173 17.0877C27.5032 17.0308 27.3775 17.0008 27.25 17.0001H21.6667V12.5001C21.7081 12.0876 21.9019 11.7053 22.21 11.4279C22.5182 11.1505 22.9187 10.998 23.3333 11.0001H27.5C27.721 11.0001 27.933 10.9123 28.0893 10.756C28.2455 10.5997 28.3333 10.3878 28.3333 10.1668V5.83342Z" fill="white"/></svg>',
	linkedIn: '<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M25.25 14.0001C23.9726 13.9957 22.7068 14.2432 21.5252 14.7285C20.3436 15.2138 19.2692 15.9274 18.3636 16.8283C17.458 17.7293 16.739 18.7999 16.2476 19.9791C15.7562 21.1582 15.5022 22.4226 15.5 23.7001V33.5001C15.5 33.8979 15.658 34.2794 15.9393 34.5607C16.2206 34.842 16.6022 35.0001 17 35.0001H20.5C20.8978 35.0001 21.2794 34.842 21.5607 34.5607C21.842 34.2794 22 33.8979 22 33.5001V23.7001C21.9997 23.2457 22.0951 22.7964 22.2801 22.3814C22.465 21.9665 22.7353 21.5951 23.0734 21.2916C23.4115 20.9881 23.8098 20.7593 24.2423 20.62C24.6747 20.4808 25.1317 20.4342 25.5833 20.4834C26.3933 20.5854 27.1377 20.9812 27.6754 21.5956C28.213 22.21 28.5064 23.0003 28.5 23.8167V33.5001C28.5 33.8979 28.658 34.2794 28.9393 34.5607C29.2206 34.842 29.6022 35.0001 30 35.0001H33.5C33.8978 35.0001 34.2794 34.842 34.5607 34.5607C34.842 34.2794 35 33.8979 35 33.5001V23.7001C34.9978 22.4226 34.7438 21.1582 34.2524 19.9791C33.761 18.7999 33.042 17.7293 32.1364 16.8283C31.2308 15.9274 30.1564 15.2138 28.9748 14.7285C27.7932 14.2432 26.5274 13.9957 25.25 14.0001Z" fill="white"/><path d="M11 15.5H6.5C5.67157 15.5 5 16.1716 5 17V33.5C5 34.3284 5.67157 35 6.5 35H11C11.8284 35 12.5 34.3284 12.5 33.5V17C12.5 16.1716 11.8284 15.5 11 15.5Z" fill="white"/><path d="M8.75 12.5C10.8211 12.5 12.5 10.8211 12.5 8.75C12.5 6.67893 10.8211 5 8.75 5C6.67893 5 5 6.67893 5 8.75C5 10.8211 6.67893 12.5 8.75 12.5Z" fill="white"/></svg>'
};

export default (req: NextApiRequest, res: NextApiResponse): void => {
	const icon = req.query.icon;
	const fill = req.query.fill || '000';

	if (!(icon in icons)) {
		res.status(404);
		res.end();
		return;
	}

	res.status(200);
	res.setHeader('Content-type', 'image/svg+xml');
	res.setHeader('Cache-control', 'public, max-age=172800, must-revalidate');
	const coloredIcon = icons[icon as string].replace(/__FILL__/g, `#${fill as string}`);
	res.end(coloredIcon);
};
